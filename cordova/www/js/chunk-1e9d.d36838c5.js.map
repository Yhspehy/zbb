{"version":3,"sources":["webpack:///./src/Api/live.js","webpack:///./src/components/CommentInput.vue?a1a2","webpack:///./src/components/Mask.vue?04f1","webpack:///src/components/Mask.vue","webpack:///./src/components/Mask.vue?b604","webpack:///./src/components/Mask.vue","webpack:///src/components/CommentInput.vue","webpack:///./src/components/CommentInput.vue?1f49","webpack:///./src/components/CommentInput.vue","webpack:///./src/components/CommentList.vue?1a43","webpack:///./src/components/CommentItem.vue?908c","webpack:///src/components/CommentItem.vue","webpack:///./src/components/CommentItem.vue?11a5","webpack:///./src/components/CommentItem.vue","webpack:///src/components/CommentList.vue","webpack:///./src/components/CommentList.vue?0c38","webpack:///./src/components/CommentList.vue","webpack:///./src/views/comment/Comments.vue?2d01","webpack:///src/views/comment/Comments.vue","webpack:///./src/views/comment/Comments.vue?d1ec","webpack:///./src/views/comment/Comments.vue","webpack:///./src/components/HeaderBar.vue?0445","webpack:///src/components/HeaderBar.vue","webpack:///./src/components/HeaderBar.vue?b1c7","webpack:///./src/components/HeaderBar.vue"],"names":["getReview","id","Object","_request__WEBPACK_IMPORTED_MODULE_0__","request","getHotComments","getStats","getLiveRoom","getQuizList","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","type","placeholder","on","blur","inputBlur","click","$event","inputFocus","_v","name","_e","staticRenderFns","Maskvue_type_template_id_01422261_scoped_true_render","Maskvue_type_template_id_01422261_scoped_true_staticRenderFns","Maskvue_type_script_lang_js_","mounted","$el","addEventListener","e","preventDefault","beforeDestroy","removeEventListener","methods","stopScroll","components_Maskvue_type_script_lang_js_","component","componentNormalizer","options","__file","Mask","bodyEl","document","querySelector","CommentInputvue_type_script_lang_js_top","CommentInputvue_type_script_lang_js_","components","cMask","data","disScroll","scrollY","scroll","el","window","style","position","top","setTimeout","target","scrollIntoView","scrollIntoViewIfNeeded","scrollTo","send","components_CommentInputvue_type_script_lang_js_","CommentInput_component","__webpack_exports__","_l","item","key","comment_id","CommentItemvue_type_template_id_5b4186b6_scoped_true_render","_m","_s","author","user_name","index","create_time","color","isVote","vote","vote_count","content","com","comIdx","directives","rawName","value","isExpand","expression","commentlist_count","CommentItemvue_type_template_id_5b4186b6_scoped_true_staticRenderFns","src","alt","CommentItemvue_type_script_lang_js_","props","require","computed","created","components_CommentItemvue_type_script_lang_js_","CommentItem","CommentListvue_type_script_lang_js_","commentItem","commentlist","Array","nowDate","Date","parse","list","self","map","tranTime","timestamp","$moment","format","fromNow","components_CommentListvue_type_script_lang_js_","CommentList_component","text","share","hot","Commentsvue_type_script_lang_js_","HeaderBar","commentList","CommentList","commentInput","CommentInput","getData","_getData","asyncToGenerator","regeneratorRuntime","mark","_callee","res","wrap","_context","prev","next","live","sent","stop","apply","arguments","comment_Commentsvue_type_script_lang_js_","padding","goBack","rightTextColor","to","rightTextRouteName","rightText","HeaderBarvue_type_script_lang_js_","String","default","goBackRouteName","Boolean","console","warn","$router","push","back","components_HeaderBarvue_type_script_lang_js_"],"mappings":"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","file":"js/chunk-1e9d.d36838c5.js","sourcesContent":["import { request } from './request';\n\nexport function getReview(id) {\n    return request(`/mock/live/review/${id}`);\n}\n\nexport function getHotComments(id) {\n    return request(`/mock/live/hotComments/${id}`);\n}\n\nexport function getStats(id) {\n    return request(`/mock/live/stats/${id}`);\n}\n\nexport function getLiveRoom(id) {\n    return request(`/mock/live/liveRoom/${id}`);\n}\n\nexport function getQuizList(id) {\n    return request(`/mock/live/quizList/${id}`);\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"commentInput\"},[_c('input',{staticClass:\"typeIn\",attrs:{\"type\":\"text\",\"placeholder\":\"我来说两句\"},on:{\"blur\":_vm.inputBlur,\"click\":function($event){_vm.inputFocus($event)}}}),_c('button',{staticClass:\"send\"},[_vm._v(\"发送\")])]),_c('transition',{attrs:{\"name\":\"mask\"}},[(_vm.disScroll)?_c('c-mask'):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cMask\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"cMask\"></div>\n</template>\n\n<script>\nexport default {\n    name: 'c_Mask',\n    mounted() {\n        this.$el.addEventListener(\n            'touchstart',\n            e => {\n                e.preventDefault();\n            },\n            false\n        );\n    },\n    beforeDestroy() {\n        this.$el.removeEventListener(\n            'touchstart',\n            e => {\n                e.preventDefault();\n            },\n            false\n        );\n    },\n    methods: {\n        stopScroll(e) {\n            e.preventDefault();\n        }\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.cMask {\n    position: fixed;\n    z-index: 101;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: rgba(0, 0, 0, 0.4);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mask.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Mask.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Mask.vue?vue&type=template&id=01422261&scoped=true&\"\nimport script from \"./Mask.vue?vue&type=script&lang=js&\"\nexport * from \"./Mask.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Mask.vue?vue&type=style&index=0&id=01422261&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01422261\",\n  null\n  \n)\n\ncomponent.options.__file = \"Mask.vue\"\nexport default component.exports","<template>\n    <div>\n        <div class=\"commentInput\">\n            <input\n                type=\"text\"\n                class=\"typeIn\"\n                placeholder=\"我来说两句\"\n                @blur=\"inputBlur\"\n                @click=\"inputFocus($event)\">\n\n            <button class=\"send\">发送</button>\n        </div>\n\n        <transition name=\"mask\">\n            <c-mask v-if=\"disScroll\"></c-mask>\n        </transition>\n\n    </div>\n</template>\n\n<script>\nimport cMask from '@/components/Mask';\n\nlet bodyEl = document.querySelector('body');\nlet top = 0;\n\nexport default {\n    name: 'c_commentInput',\n    components: { cMask },\n    data() {\n        return {\n            disScroll: false,\n            scrollY: 0\n        };\n    },\n    mounted() {\n        this.$el.addEventListener('touchmove', this.scroll);\n    },\n    beforeDestroy() {\n        this.$el.removeEventListener('touchmove', this.scroll);\n    },\n    methods: {\n        scroll(e) {\n            e.preventDefault();\n        },\n        inputFocus(el) {\n            if (this.disScroll) return;\n            this.scrollY = window.scrollY;\n            this.disScroll = true;\n\n            // 使用这个方案出现的问题：\n            // 1. 拉起键盘后点击input页面会下移,已经解决\n            // 2. safari拉起键盘后键盘和input有空隙\n            top = window.scrollY;\n            bodyEl.style.position = 'fixed';\n            bodyEl.style.top = -top + 'px';\n\n            // console.log(window.innerHeight);\n            // console.log(window.scrollY);\n            // console.log(window.parent.innerHeight);\n            // console.log(window.parent.scrollY);\n            setTimeout(() => {\n                el.target.scrollIntoView(true);\n                el.target.scrollIntoViewIfNeeded();\n            }, 200);\n        },\n        inputBlur() {\n            // console.log(window.scrollY);\n            this.disScroll = false;\n            bodyEl.style.position = '';\n            bodyEl.style.top = '';\n            window.scrollTo(0, top);\n        },\n        send() {}\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.commentInput {\n    // flex\n    // position: fixed;\n    // bottom: 0;\n    // left: 0;\n    // right: 0;\n    // fixed\n    position: relative;\n    height: 90px;\n    z-index: 110;\n    background: #fff;\n    box-shadow: 0px 0px 1px 0px #bfbfbf;\n    line-height: 90px;\n\n    .typeIn {\n        margin: 0 20px 0 36px;\n        height: 66px;\n        width: 540px;\n        background-color: #f2f2f2;\n        border-radius: 33px;\n        padding-left: 40px;\n        line-height: 50px;\n    }\n\n    .send {\n        width: 118px;\n        height: 66px;\n        background-image: linear-gradient(\n                -90deg,\n                #0080ff 0%,\n                #0077ff 0%,\n                #006eff 0%,\n                #0073ff 0%,\n                #0077ff 0%,\n                #0089ff 50%,\n                #0091ff 79%,\n                #0099ff 100%\n            ),\n            linear-gradient(#f2f2f2, #f2f2f2);\n        border-radius: 33px;\n        font-size: 28px;\n        color: #fff;\n    }\n}\n\n.mask-enter-active,\n.mask-leave-active {\n    transition: opacity 0.6s;\n}\n\n.mask-enter,\n.mask-leave-to {\n    opacity: 0;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentInput.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentInput.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentInput.vue?vue&type=template&id=36ee3697&scoped=true&\"\nimport script from \"./CommentInput.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentInput.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentInput.vue?vue&type=style&index=0&id=36ee3697&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"36ee3697\",\n  null\n  \n)\n\ncomponent.options.__file = \"CommentInput.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"commentlist\"},_vm._l((_vm.list),function(item){return _c('comment-item',{key:item.comment_id,attrs:{\"item\":item}})}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.item.comment_id)?_c('div',{staticClass:\"commentItem border-bottom-1px\"},[_vm._m(0),_c('div',{staticClass:\"commentMain\"},[_c('div',{staticClass:\"commentInfo clearfix\"},[_c('span',{staticClass:\"userName text-ellipsis\"},[_vm._v(_vm._s(_vm.item.author.user_name))]),_c('span',{staticClass:\"time\"},[_c('span',[_vm._v(_vm._s(_vm.item.index)+\"楼 \")]),_c('span',[_vm._v(_vm._s(_vm.item.create_time))])]),_c('span',{staticClass:\"vote fr\",style:({'color': _vm.item.isVote ? '#f5303d' : '#b3b3b3'}),on:{\"click\":function($event){_vm.vote(_vm.item)}}},[_c('i',{staticClass:\"far fa-thumbs-up\"}),_c('span',{staticClass:\"voteCount\"},[_vm._v(_vm._s(_vm.item.vote_count))])])]),_c('div',{staticClass:\"commentContent\"},[_vm._v(_vm._s(_vm.item.content))]),(_vm.item.commentlist_count)?_c('div',{staticClass:\"commentAnswer\"},[_vm._l((_vm.item.commentlist),function(com,comIdx){return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.item.isExpand || (!_vm.item.isExpand && comIdx < 2)),expression:\"item.isExpand || (!item.isExpand && comIdx < 2)\"}],key:com.comment_id,staticClass:\"commentAnswerItem\"},[_vm._v(\"\\n                \"+_vm._s(com.user_name)+\"：\"+_vm._s(com.content)+\"\\n            \")])}),(_vm.item.commentlist_count > 2)?_c('div',{staticClass:\"commentExpand\",on:{\"click\":function($event){_vm.item.isExpand = !_vm.item.isExpand}}},[_vm._v(\"\\n                \"+_vm._s(_vm.item.isExpand ? '收起' : (\"查看全部\" + (_vm.item.commentlist_count) + \"条回复>\"))+\"\\n            \")]):_vm._e()],2):_vm._e()])]):_vm._e()}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"avatar\"},[_c('img',{attrs:{\"src\":\"/image/team/湖人.png\",\"alt\":\"头像\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"item.comment_id\" class=\"commentItem border-bottom-1px\">\n        <!-- avatar -->\n        <div class=\"avatar\">\n            <img src=\"/image/team/湖人.png\" alt=\"头像\">\n        </div>\n        <div class=\"commentMain\">\n            <div class=\"commentInfo clearfix\">\n                <span class=\"userName text-ellipsis\">{{item.author.user_name}}</span>\n                <span class=\"time\">\n                    <span>{{item.index}}楼 </span>\n                    <span>{{item.create_time}}</span>\n                </span>\n                <span\n                    class=\"vote fr\"\n                    :style=\"{'color': item.isVote ? '#f5303d' : '#b3b3b3'}\"\n                    @click=\"vote(item)\">\n                    <i class=\"far fa-thumbs-up\"></i>\n                    <span class=\"voteCount\">{{item.vote_count}}</span>\n                </span>\n            </div>\n\n            <!-- 评论内容 -->\n            <div class=\"commentContent\">{{item.content}}</div>\n\n            <!-- 评论的回复 -->\n            <div v-if=\"item.commentlist_count\" class=\"commentAnswer\">\n                <div class=\"commentAnswerItem\" v-for=\"(com, comIdx) in item.commentlist\" :key=\"com.comment_id\" v-show=\"item.isExpand || (!item.isExpand && comIdx < 2)\">\n                    {{com.user_name}}：{{com.content}}\n                </div>\n                <div class=\"commentExpand\" v-if=\"item.commentlist_count > 2\" @click=\"item.isExpand = !item.isExpand\">\n                    {{item.isExpand ? '收起' : `查看全部${item.commentlist_count}条回复&gt;`}}\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'c_comment',\n    props: {\n        item: {\n            type: Object,\n            require: true\n        }\n    },\n    computed: {},\n    data() {\n        return {};\n    },\n    created() {},\n    methods: {\n        vote(item) {\n            if (item.isVote) {\n                item.vote_count--;\n                item.isVote = false;\n            } else {\n                item.vote_count++;\n                item.isVote = true;\n            }\n        }\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.commentItem {\n    display: flex;\n    font-size: 28px;\n    color: $grey-dark;\n    padding: 20px 0;\n    @include border-bottom-1px;\n    img {\n        border-radius: 50%;\n        width: 78px;\n        height: 78px;\n        margin-right: 22px;\n    }\n    .commentMain {\n        flex: 1;\n        .commentInfo {\n            color: $grey;\n            margin-bottom: 25px;\n            .userName {\n                max-width: 200px;\n            }\n            .time {\n                color: $grey-light;\n                font-size: 22px;\n                margin-left: 22px;\n            }\n            .voteCount {\n                font-size: 22px;\n            }\n        }\n        .commentAnswer {\n            background: $bg-body;\n            font-size: 24px;\n            padding: 20px;\n            margin-top: 20px;\n            .commentAnswerItem {\n                margin-bottom: 5px;\n            }\n            .commentExpand {\n                color: $blue;\n                margin-top: 15px;\n            }\n        }\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentItem.vue?vue&type=template&id=5b4186b6&scoped=true&\"\nimport script from \"./CommentItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentItem.vue?vue&type=style&index=0&id=5b4186b6&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b4186b6\",\n  null\n  \n)\n\ncomponent.options.__file = \"CommentItem.vue\"\nexport default component.exports","<template>\n    <div class=\"commentlist\">\n        <comment-item :item=\"item\" v-for=\"item in list\" :key=\"item.comment_id\"></comment-item>\n    </div>\n</template>\n\n<script>\nimport commentItem from '@/components/CommentItem';\nexport default {\n    name: 'c_commentlist',\n    components: { commentItem },\n    props: {\n        commentlist: {\n            type: Array,\n            require: true\n        }\n    },\n    data() {\n        return {\n            nowDate: Date.parse(new Date()) / 1000\n        };\n    },\n    computed: {\n        list() {\n            const self = this;\n            if (!this.commentlist) return [];\n            return this.commentlist.map(e => {\n                e.create_time = self.tranTime(e.create_time);\n                return e;\n            });\n        }\n    },\n    methods: {\n        tranTime(timestamp) {\n            if (this.nowDate - this.$moment(timestamp).format('X') > 60 * 60 * 24) {\n                return this.$moment(timestamp).format('MM月MM日 HH:mm');\n            } else {\n                return this.$moment(timestamp).fromNow();\n            }\n        }\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CommentList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CommentList.vue?vue&type=template&id=6873a83d&scoped=true&\"\nimport script from \"./CommentList.vue?vue&type=script&lang=js&\"\nexport * from \"./CommentList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CommentList.vue?vue&type=style&index=0&id=6873a83d&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6873a83d\",\n  null\n  \n)\n\ncomponent.options.__file = \"CommentList.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"comments\"},[_c('header-bar',{attrs:{\"text\":\"全部评论\",\"share\":true}}),_c('div',{attrs:{\"id\":\"commentContainer\"}},[_c('div',{staticClass:\"commentContainer\"},[_c('div',{staticClass:\"commentTitle\"},[_vm._v(\"精彩热评\")]),_c('comment-list',{attrs:{\"commentlist\":_vm.hot}}),_c('div',{staticClass:\"commentTitle\"},[_vm._v(\"全部评论\")]),_c('comment-list',{attrs:{\"commentlist\":_vm.list}})],1)]),_c('comment-input')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"comments\">\n\n        <header-bar text=\"全部评论\" :share=\"true\"></header-bar>\n\n        <div id=\"commentContainer\">\n            <div class=\"commentContainer\">\n                <div class=\"commentTitle\">精彩热评</div>\n\n                <comment-list :commentlist=\"hot\"></comment-list>\n\n                <div class=\"commentTitle\">全部评论</div>\n\n                <comment-list :commentlist=\"list\"></comment-list>\n            </div>\n        </div>\n       \n\n        <comment-input></comment-input>\n\n\n    </div>\n</template>\n\n<script>\nimport { getHotComments } from '@/Api/live';\nimport commentList from '@/components/CommentList';\nimport HeaderBar from '@/components/HeaderBar';\nimport commentInput from '@/components/CommentInput';\n\nexport default {\n    name: 'comments',\n    components: { HeaderBar, commentList, commentInput },\n    data() {\n        return {\n            hot: [],\n            list: []\n        };\n    },\n    created() {\n        this.getData();\n    },\n    methods: {\n        async getData() {\n            let res = await getHotComments(1);\n            this.hot = res.data.data.hot;\n            this.list = res.data.data.list;\n        }\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.comments {\n    height: 100vh;\n    display: flex;\n    flex-direction: column;\n    // overflow: hidden;\n    // min-height: 100vh;\n\n    // flex and bscroll\n    #commentContainer {\n        margin-top: 86px;\n        height: calc(100% - 176px);\n        flex: 1;\n        overflow: scroll;\n        -webkit-overflow-scrolling: touch;\n    }\n\n    .commentContainer {\n        // fixed\n        // margin: 86px 0 90px;\n        // min-height: calc(100vh - 176px);\n        padding: 20px 30px;\n        .commentTitle {\n            margin-top: 30px;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comments.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comments.vue?vue&type=template&id=3db29887&scoped=true&\"\nimport script from \"./Comments.vue?vue&type=script&lang=js&\"\nexport * from \"./Comments.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comments.vue?vue&type=style&index=0&id=3db29887&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3db29887\",\n  null\n  \n)\n\ncomponent.options.__file = \"Comments.vue\"\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"headerBar\",style:({'padding': _vm.padding})},[_c('i',{staticClass:\"fas fa-chevron-left\",on:{\"click\":_vm.goBack}}),_c('span',{staticClass:\"text\"},[_vm._v(_vm._s(_vm.text))]),(_vm.rightText)?_c('router-link',{staticClass:\"rightText\",style:({'color': _vm.rightTextColor}),attrs:{\"to\":{'name': _vm.rightTextRouteName}}},[_vm._v(\"\\n        \"+_vm._s(_vm.rightText)+\"\\n    \")]):_vm._e(),(_vm.share)?_c('span',{staticClass:\"rightText share\"},[_c('i',{staticClass:\"fas fa-share-square\"})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"headerBar\" :style=\"{'padding': padding}\">\n        <i @click=\"goBack\" class=\"fas fa-chevron-left\"></i>\n        <span class=\"text\">{{text}}</span>\n        <router-link\n            v-if=\"rightText\"\n            :style=\"{'color': rightTextColor}\"\n            class=\"rightText\"\n            :to=\"{'name': rightTextRouteName}\">\n            {{rightText}}\n        </router-link>\n\n        <span v-if=\"share\" class=\"rightText share\">\n            <i class=\"fas fa-share-square\"></i>\n        </span>\n    </div>\n</template>\n\n<script>\n/**\n *\n * header组件\n *\n * goback的Icon默认是go.back(),如果需要跳转到固定链接则使用goBackRouteName参数\n *\n */\n\nexport default {\n    name: 'c_HeaderBar',\n    props: {\n        text: {\n            type: String,\n            default: ''\n        },\n        goBackRouteName: {\n            type: String\n        },\n        rightText: {\n            type: String\n        },\n        rightTextRouteName: {\n            type: String,\n            default: 'home'\n        },\n        padding: {\n            type: String,\n            default: '3.467vw 4.667vw'\n        },\n        rightTextColor: {\n            type: String,\n            default: '#f5303d'\n        },\n        // 是否可以分享\n        share: {\n            type: Boolean,\n            default: false\n        }\n    },\n    data() {\n        return {};\n    },\n    created() {\n        if (this.rightText) {\n            if (this.rightTextRouteName === 'home') {\n                console.warn(\n                    `please pass a vaule to rightTextRouteName field or it will jump to home. If you just want to jump to home, please igrone this`\n                );\n            }\n        }\n    },\n    mounted() {\n        this.$el.addEventListener('touchmove', this.scroll);\n    },\n    beforeDestroy() {\n        this.$el.removeEventListener('touchmove', this.scroll);\n    },\n    methods: {\n        goBack() {\n            if (this.goBackRouteName) {\n                this.$router.push({ name: this.goBackRouteName });\n                return false;\n            }\n            this.$router.back();\n        },\n        scroll(e) {\n            e.preventDefault();\n        }\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.headerBar {\n    font-size: 30px;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    background: #fff;\n    z-index: 100;\n    border-bottom: 1px solid $bg-grey;\n    .text {\n        display: inline-block;\n        width: calc(100% - 30px);\n        text-align: center;\n    }\n    .rightText {\n        position: absolute;\n        font-size: 24px;\n        bottom: 26px;\n        right: 35px;\n    }\n\n    .share {\n        color: $grey;\n        font-weight: lighter;\n        font-size: 30px;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HeaderBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HeaderBar.vue?vue&type=template&id=7a653102&scoped=true&\"\nimport script from \"./HeaderBar.vue?vue&type=script&lang=js&\"\nexport * from \"./HeaderBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./HeaderBar.vue?vue&type=style&index=0&id=7a653102&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a653102\",\n  null\n  \n)\n\ncomponent.options.__file = \"HeaderBar.vue\"\nexport default component.exports"],"sourceRoot":""}