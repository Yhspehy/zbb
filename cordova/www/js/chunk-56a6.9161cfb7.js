(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56a6"],{5884:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"newInfoScoped"},[n("header-bar",{attrs:{share:!0}}),n("div",{attrs:{id:"newsContainer"}},[n("div",{staticClass:"newsContainer border-top-1px"},[n("div",{staticClass:"title"},[t._v(t._s(t.info.title))]),n("div",{staticClass:"otherInfo border-bottom-1px"},[n("span",[t._v(t._s(t.info.source))]),n("span",[t._v(t._s(t.time))])]),n("div",{staticClass:"content border-bottom-1px",domProps:{innerHTML:t._s(t.info.content)}}),n("div",{staticClass:"commentTitle"},[t._v("精彩热评")]),n("comment-list",{attrs:{commentlist:t.info.hot}}),n("div",{staticClass:"commentTitle"},[t._v("全部评论")]),n("comment-list",{attrs:{commentlist:t.info.comments}}),n("div",{staticClass:"moreComments",on:{click:t.gotoMoreComments}},[t._v("更多评论")])],1)]),n("comment-input")],1)},i=[],o=(n("96cf"),n("3040")),a=n("9d2b");function r(t){return Object(a["a"])("/mock/news/newInfo/".concat(t))}var c=n("e5a6"),m=n("cfba"),l=n("89e4"),u={name:"news",components:{HeaderBar:c["a"],commentList:m["a"],commentInput:l["a"]},data:function(){return{info:{}}},computed:{time:function(){return this.$moment(this.info.create_time).format("MM/DD HH:MM")}},created:function(){this.getNews()},mounted:function(){},methods:{getNews:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r(e);case 2:n=t.sent,this.info=n.data.data;case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),gotoMoreComments:function(){this.$router.push({name:"comments",query:{id:this.info.news_id}})}}},d=u,f=n("2877"),p=Object(f["a"])(d,s,i,!1,null,null,null);p.options.__file="News.vue";e["default"]=p.exports},"89e4":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"commentInput"},[n("input",{staticClass:"typeIn",attrs:{type:"text",placeholder:"我来说两句"},on:{blur:t.inputBlur,click:function(e){t.inputFocus(e)}}}),n("button",{staticClass:"send"},[t._v("发送")])]),n("transition",{attrs:{name:"mask"}},[t.disScroll?n("c-mask"):t._e()],1)],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cMask"})},a=[],r={name:"c_Mask",mounted:function(){this.$el.addEventListener("touchstart",function(t){t.preventDefault()},!1)},beforeDestroy:function(){this.$el.removeEventListener("touchstart",function(t){t.preventDefault()},!1)},methods:{stopScroll:function(t){t.preventDefault()}}},c=r,m=n("2877"),l=Object(m["a"])(c,o,a,!1,null,"01422261",null);l.options.__file="Mask.vue";var u=l.exports,d=document.querySelector("body"),f=0,p={name:"c_commentInput",components:{cMask:u},data:function(){return{disScroll:!1,scrollY:0}},mounted:function(){this.$el.addEventListener("touchmove",this.scroll)},beforeDestroy:function(){this.$el.removeEventListener("touchmove",this.scroll)},methods:{scroll:function(t){t.preventDefault()},inputFocus:function(t){this.disScroll||(this.scrollY=window.scrollY,this.disScroll=!0,f=window.scrollY,d.style.position="fixed",d.style.top=-f+"px",setTimeout(function(){t.target.scrollIntoView(!0),t.target.scrollIntoViewIfNeeded()},200))},inputBlur:function(){this.disScroll=!1,d.style.position="",d.style.top="",window.scrollTo(0,f)},send:function(){}}},v=p,h=Object(m["a"])(v,s,i,!1,null,"36ee3697",null);h.options.__file="CommentInput.vue";e["a"]=h.exports},cfba:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"commentlist"},t._l(t.list,function(t){return n("comment-item",{key:t.comment_id,attrs:{item:t}})}))},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.item.comment_id?n("div",{staticClass:"commentItem border-bottom-1px"},[t._m(0),n("div",{staticClass:"commentMain"},[n("div",{staticClass:"commentInfo clearfix"},[n("span",{staticClass:"userName text-ellipsis"},[t._v(t._s(t.item.author.user_name))]),n("span",{staticClass:"time"},[n("span",[t._v(t._s(t.item.index)+"楼 ")]),n("span",[t._v(t._s(t.item.create_time))])]),n("span",{staticClass:"vote fr",style:{color:t.item.isVote?"#f5303d":"#b3b3b3"},on:{click:function(e){t.vote(t.item)}}},[n("i",{staticClass:"far fa-thumbs-up"}),n("span",{staticClass:"voteCount"},[t._v(t._s(t.item.vote_count))])])]),n("div",{staticClass:"commentContent"},[t._v(t._s(t.item.content))]),t.item.commentlist_count?n("div",{staticClass:"commentAnswer"},[t._l(t.item.commentlist,function(e,s){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.item.isExpand||!t.item.isExpand&&s<2,expression:"item.isExpand || (!item.isExpand && comIdx < 2)"}],key:e.comment_id,staticClass:"commentAnswerItem"},[t._v("\n                "+t._s(e.user_name)+"："+t._s(e.content)+"\n            ")])}),t.item.commentlist_count>2?n("div",{staticClass:"commentExpand",on:{click:function(e){t.item.isExpand=!t.item.isExpand}}},[t._v("\n                "+t._s(t.item.isExpand?"收起":"查看全部"+t.item.commentlist_count+"条回复>")+"\n            ")]):t._e()],2):t._e()])]):t._e()},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"avatar"},[n("img",{attrs:{src:"/image/team/湖人.png",alt:"头像"}})])}],r={name:"c_comment",props:{item:{type:Object,require:!0}},computed:{},data:function(){return{}},created:function(){},methods:{vote:function(t){t.isVote?(t.vote_count--,t.isVote=!1):(t.vote_count++,t.isVote=!0)}}},c=r,m=n("2877"),l=Object(m["a"])(c,o,a,!1,null,"5b4186b6",null);l.options.__file="CommentItem.vue";var u=l.exports,d={name:"c_commentlist",components:{commentItem:u},props:{commentlist:{type:Array,require:!0}},data:function(){return{nowDate:Date.parse(new Date)/1e3}},computed:{list:function(){var t=this;return this.commentlist?this.commentlist.map(function(e){return e.create_time=t.tranTime(e.create_time),e}):[]}},methods:{tranTime:function(t){return this.nowDate-this.$moment(t).format("X")>86400?this.$moment(t).format("MM月MM日 HH:mm"):this.$moment(t).fromNow()}}},f=d,p=Object(m["a"])(f,s,i,!1,null,"6873a83d",null);p.options.__file="CommentList.vue";e["a"]=p.exports},e5a6:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"headerBar",style:{padding:t.padding}},[n("i",{staticClass:"fas fa-chevron-left",on:{click:t.goBack}}),n("span",{staticClass:"text"},[t._v(t._s(t.text))]),t.rightText?n("router-link",{staticClass:"rightText",style:{color:t.rightTextColor},attrs:{to:{name:t.rightTextRouteName}}},[t._v("\n        "+t._s(t.rightText)+"\n    ")]):t._e(),t.share?n("span",{staticClass:"rightText share"},[n("i",{staticClass:"fas fa-share-square"})]):t._e()],1)},i=[],o=(n("cadf"),n("551c"),n("097d"),{name:"c_HeaderBar",props:{text:{type:String,default:""},goBackRouteName:{type:String},rightText:{type:String},rightTextRouteName:{type:String,default:"home"},padding:{type:String,default:"3.467vw 4.667vw"},rightTextColor:{type:String,default:"#f5303d"},share:{type:Boolean,default:!1}},data:function(){return{}},created:function(){this.rightText&&"home"===this.rightTextRouteName&&console.warn("please pass a vaule to rightTextRouteName field or it will jump to home. If you just want to jump to home, please igrone this")},mounted:function(){this.$el.addEventListener("touchmove",this.scroll)},beforeDestroy:function(){this.$el.removeEventListener("touchmove",this.scroll)},methods:{goBack:function(){if(this.goBackRouteName)return this.$router.push({name:this.goBackRouteName}),!1;this.$router.back()},scroll:function(t){t.preventDefault()}}}),a=o,r=n("2877"),c=Object(r["a"])(a,s,i,!1,null,"7a653102",null);c.options.__file="HeaderBar.vue";e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-56a6.9161cfb7.js.map