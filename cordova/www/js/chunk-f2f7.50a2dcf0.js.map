{"version":3,"sources":["webpack:///./src/views/profile/Push.vue?4dd8","webpack:///src/views/profile/Push.vue","webpack:///./src/views/profile/Push.vue?2cc1","webpack:///./src/views/profile/Push.vue","webpack:///./src/utils/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","item","idx","key","el","elIdx","class","border-bottom-1px","length","text","t","tIdx","tips","_v","_s","style","color","check","on","click","$event","triggerPush","staticRenderFns","Pushvue_type_script_lang_js_","name","data","importantNews","followTeamGames","followTeamNews","mention","reply","noBorderInNight","content","mounted","Object","utils","beforeDestroy","methods","profile_Pushvue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","copy","copyText","document","querySelector","textArea","createElement","value","textContent","position","top","body","appendChild","select","execCommand","remove","startX","vue","SafariSlideLeftTwiceTransitionAddLis","vm","addEventListener","watchTouchStart","watchTouchEnd","SafariSlideLeftTwiceTransitionRemoveLis","removeEventListener","e","console","log","pageX","width","window","screen","dis","$store","commit","slideRefresh","parent","container","re","originReHeight","offsetHeight","refreshHeight","bottom","isScroll","touchstart","touchmove","scrollTop","opacity","offsetTop","height","status","touchend","scrollTo","init","destroy"],"mappings":"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","file":"js/chunk-f2f7.50a2dcf0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"setting-push\"},_vm._l((_vm.content),function(item,idx){return _c('div',{key:idx,staticClass:\"container\"},_vm._l((item),function(el,elIdx){return _c('div',{key:elIdx,staticClass:\"item\",class:{'border-bottom-1px': elIdx < item.length - 1}},[(typeof el.text !== 'string')?_c('div',_vm._l((el.text),function(t,tIdx){return _c('div',{key:tIdx,class:{'tips': tIdx === el.text.length - 1}},[_vm._v(_vm._s(t))])})):_c('div',[_vm._v(_vm._s(el.text))]),_c('i',{staticClass:\"fa fa-check\",style:({'color': _vm.check[el.key] ? '#07b5ff' : ''}),on:{\"click\":function($event){_vm.triggerPush(el.key)}}})])}))}))}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"setting-push\">\n\n        <div class=\"container\" v-for=\"(item, idx) in content\" :key=\"idx\">\n            <div v-for=\"(el, elIdx) in item\"\n                 :key=\"elIdx\"\n                 class=\"item\"\n                 :class=\"{'border-bottom-1px': elIdx < item.length - 1}\">\n\n                <div v-if=\"typeof el.text !== 'string'\">\n                    <div v-for=\"(t, tIdx) in el.text\" :key=\"tIdx\" :class=\"{'tips': tIdx === el.text.length - 1}\">{{t}}</div>\n                </div>\n\n                <div v-else>{{el.text}}</div>\n\n                <i  class=\"fa fa-check\"\n                    :style=\"{'color': check[el.key] ? '#07b5ff' : ''}\"\n                    @click=\"triggerPush(el.key)\"></i>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { SafariSlideLeftTwiceTransitionAddLis, SafariSlideLeftTwiceTransitionRemoveLis } from '@/utils/index';\n\nexport default {\n    name: 'profile_setting_push',\n    data() {\n        return {\n            check: {\n                importantNews: true,\n                followTeamGames: true,\n                followTeamNews: false,\n                mention: true,\n                reply: true,\n                noBorderInNight: false\n            },\n            content: [\n                [\n                    {\n                        text: ['要闻通知', '精选内容或重要新闻通知提醒'],\n                        key: 'importantNews'\n                    }\n                ],\n                [\n                    {\n                        text: '关注球队比赛在开赛/进球/结束时通知',\n                        key: 'followTeamGames'\n                    },\n                    {\n                        text: '关注球队的重要新闻',\n                        key: 'followTeamNews'\n                    }\n                ],\n                [\n                    {\n                        text: '@我的',\n                        key: 'mention'\n                    },\n                    {\n                        text: '回复我的',\n                        key: 'reply'\n                    }\n                ],\n                [\n                    {\n                        text: ['夜间免打扰', '免打扰模式下24:00-次日8:00都不再接受@和回复提醒'],\n                        key: 'noBorderInNight'\n                    }\n                ]\n            ]\n        };\n    },\n    mounted() {\n        SafariSlideLeftTwiceTransitionAddLis(this);\n    },\n    beforeDestroy() {\n        SafariSlideLeftTwiceTransitionRemoveLis();\n    },\n    methods: {\n        triggerPush(key) {\n            this.check[key] = !this.check[key];\n        }\n    }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.setting-push {\n    overflow: hidden;\n    .container {\n        margin-top: 20px;\n        padding: 0 36px;\n        background: #ffffff;\n    }\n    .border-bottom-1px {\n        @include border-bottom-1px;\n    }\n    .item {\n        width: 100%;\n        padding: 30px 0;\n        color: $grey-dark;\n        font-size: 28px;\n        @include flex-center-between;\n        .tips {\n            font-size: 24px;\n            color: $grey;\n            margin-top: 10px;\n            font-weight: 300;\n        }\n    }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Push.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Push.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Push.vue?vue&type=template&id=0b684728&scoped=true&\"\nimport script from \"./Push.vue?vue&type=script&lang=js&\"\nexport * from \"./Push.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Push.vue?vue&type=style&index=0&id=0b684728&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0b684728\",\n  null\n  \n)\n\ncomponent.options.__file = \"Push.vue\"\nexport default component.exports","export function copy(el) {\n    var copyText = document.querySelector(el);\n    var textArea = document.createElement('textarea');\n    textArea.value = copyText.textContent;\n    textArea.style.position = 'fixed';\n    textArea.style.top = '-1000px';\n    document.body.appendChild(textArea);\n    textArea.select();\n    document.execCommand('Copy');\n    textArea.remove();\n    return true;\n}\n\nlet startX = -1;\nlet vue = null;\n\nexport function SafariSlideLeftTwiceTransitionAddLis(vm) {\n    if (!vue) vue = vm;\n    document.addEventListener('touchstart', watchTouchStart);\n    document.addEventListener('touchend', watchTouchEnd);\n}\n\nexport function SafariSlideLeftTwiceTransitionRemoveLis() {\n    document.removeEventListener('touchstart', watchTouchStart);\n    document.removeEventListener('touchend', watchTouchEnd);\n}\n\nfunction watchTouchStart(e) {\n    console.log('touchstart');\n    startX = e.pageX < 34 ? e.pageX : -1;\n}\n\nfunction watchTouchEnd(e) {\n    if (startX > -1 && e.pageX < 0) {\n        console.log('touchend');\n        const width = window.screen.width;\n        const dis = width + e.pageX - startX - 16;\n        if (dis > width / 2) {\n            vue.$store.commit('profile/SET_TRANSITION', false);\n        }\n    }\n}\n\n/**\n *\n * 下拉刷新\n * 因为better-scroll的下拉刷新有些问题，而且scroll的时候也会出现部分问题\n * 所以先写一个原生的，体验也好一点\n *\n * 参数：\n * parent 父元素的id或者clcxpass\n * el     选中的容器的id或者class\n * re     刷新div的id或者class\n *\n * refreshHeight   超过多少高度就可以释放刷新\n * status 状态 0:下拉来刷新  1:释放了就可以刷新  2:已经释放，正在刷新\n *        值存在status.value中\n *        在使用的组件中监听status.value来切换div即可\n *        状态为2的时候要手动设置过渡效果\n *\n * bottom  re相对container的-top值，不建议修改\n *\n *\n * 使用说明：\n *   参照community/recommend\n *   设置好那几个.refresh和.refreshText\n *   监听status.value，当status.value为2的时候重新获取数据\n */\n\nexport function slideRefresh(options) {\n    const parent = document.querySelector(options.parent);\n    const container = document.querySelector(options.el);\n    const re = document.querySelector(options.re);\n    // re的原始高度\n    const originReHeight = re.offsetHeight;\n    const refreshHeight = options.refreshHeight || 60;\n    const bottom = options.bottom || window.screen.width / 50;\n    // let startY = 0;\n    // 手指滑动距离\n    let dis = 0;\n    // 固定parent\n    let top = 0;\n    // 判断是否在滚动刷新条\n    let isScroll = false;\n\n    function touchstart() {\n        // startY = e.pageY;\n        container.style['transition'] = 'transform 0s';\n    }\n\n    function touchmove() {\n        isScroll = document.body.scrollTop < 0;\n        if (document.body.scrollTop < 0) {\n            dis = -document.body.scrollTop;\n        }\n        if (isScroll) {\n            re.style.opacity = dis >= re.offsetHeight ? 1 : dis / re.offsetHeight;\n            if (!top) {\n                top = parent.offsetTop;\n                parent.style.position = 'fixed';\n                parent.style.top = top + 'px';\n            }\n\n            if (dis > originReHeight - bottom) {\n                re.style.height = dis + bottom + 'px';\n            }\n\n            container.style['transform'] = 'translate(0, ' + dis + 'px)';\n            if (dis > refreshHeight) {\n                options.status.value = 1;\n            }\n        } else {\n            dis = 0;\n            // startY = 0;\n            re.style.opacity = 0;\n            top = 0;\n            parent.style.position = '';\n            parent.style.top = '';\n            isScroll = false;\n            options.status.value = 0;\n        }\n    }\n\n    function touchend() {\n        if (isScroll) {\n            if (dis > refreshHeight) {\n                options.status.value = 2;\n            } else {\n                re.style.opacity = 0;\n                container.style['transition'] = 'transform 0.6s ease';\n                container.style['transform'] = 'translate(0, 0px)';\n            }\n            window.scrollTo(0, 0);\n            dis = 0;\n            // startY = 0;\n            top = 0;\n            parent.style.position = '';\n            parent.style.top = '';\n            isScroll = false;\n        }\n    }\n\n    function init() {\n        container.addEventListener('touchstart', touchstart);\n        container.addEventListener('touchmove', touchmove);\n        container.addEventListener('touchend', touchend);\n    }\n\n    function destroy() {\n        container.removeEventListener('touchstart', touchstart);\n        container.removeEventListener('touchmove', touchmove);\n        container.removeEventListener('touchend', touchend);\n    }\n\n    return {\n        isScroll,\n        init,\n        destroy\n    };\n}\n"],"sourceRoot":""}